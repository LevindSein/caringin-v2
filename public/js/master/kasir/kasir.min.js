$(document).ready(function(){$(document).on("click",".edit",function(){id=$(this).attr("id"),nama=$(this).attr("nama"),$("#hidden_ref").val(id),$(".titles").text("Edit Tanggal "+nama),$("#myModal").modal("show")}),$("#form_edit").on("submit",function(e){e.preventDefault(),$.ajax({url:"/master/kasir/edit",cache:!1,method:"POST",data:$(this).serialize(),dataType:"json",success:function(e){$("#tabel").DataTable().ajax.reload(function(){},!1);var t="";e.errors&&(t='<div class="alert alert-danger" id="error-alert"> <strong>Maaf ! </strong>'+e.errors+"</div>"),e.success&&(t='<div class="alert alert-success" id="success-alert"> <strong>Sukses ! </strong>'+e.success+"</div>"),$("#form_result").html(t),$("#success-alert,#error-alert,#info-alert,#warning-alert").fadeTo(1e3,500).slideUp(1e3,function(){$("#success-alert,#error-alert").slideUp(500)}),$("#myModal").modal("hide")}})}),$(document).on("click",".cetak",function(e){var t;id=$(this).attr("id"),t="/master/kasir/struk/tagihan/"+id,$.get(t,function(e){var t=navigator.userAgent.toLowerCase(),a=t.indexOf("android")>-1;a?function(e){window.location.href=e}(e):function(e){var t=new WebSocket("ws://127.0.0.1:40213/");t.bufferType="arraybuffer",t.onerror=function(e){alert("Printer Not Ready")},t.onopen=function(){t.send(e),t.close(1e3,"Work complete")}}(e)}).fail(function(e){console.log(e)}),console.log("Printing . . .")})});