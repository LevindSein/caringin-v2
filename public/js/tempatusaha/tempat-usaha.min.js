$(document).ready(function(){var e=$("#tabelTempat").DataTable({serverSide:!0,ajax:{url:"/tempatusaha",cache:!1},columns:[{data:"kd_kontrol",name:"kd_kontrol",class:"text-center"},{data:"id_pengguna",name:"user.nama",class:"text-center-td"},{data:"lok_tempat",name:"lok_tempat",class:"text-center-td"},{data:"jml_alamat",name:"jml_alamat",class:"text-center"},{data:"bentuk_usaha",name:"bentuk_usaha",class:"text-center-td"},{data:"action",name:"action",class:"text-center"},{data:"show",name:"show",class:"text-center"}],stateSave:!0,deferRender:!0,pageLength:8,language:{paginate:{previous:"<i class='fas fa-angle-left'>",next:"<i class='fas fa-angle-right'>"}},aoColumnDefs:[{bSortable:!1,aTargets:[5,6]},{bSearchable:!1,aTargets:[5,6]}],order:[[0,"asc"]],responsive:!0});setInterval(function(){e.ajax.reload(function(){console.log("Refresh Automatic")},!1)},6e4),$("#refresh").click(function(){$("#refresh-img").show(),$("#refresh").removeClass("btn-primary").addClass("btn-success").html("Refreshing"),e.ajax.reload(function(){console.log("Refresh Manual")},!1),setTimeout(function(){$("#refresh").removeClass("btn-success").addClass("btn-primary").html('<i class="fas fa-sync-alt"></i> Refresh Data'),$("#refresh-data").text("Refresh Data"),$("#refresh-img").hide()},2e3)}),$("#meterAir").select2(),$("#meterListrik").select2(),$("#blok").select2(),$("#pemilik").select2(),$("#pengguna").select2(),$("#add_tempat").click(function(){$(".titles").text("Tambah Tempat Usaha"),$("#action_btn").val("Tambah"),$("#action").val("Add"),$("#form_result").html(""),$("#form_tempat")[0].reset(),$("#displayAir").hide(),$("#diskonBayarAir").hide(),$("#hanyaBayarAir").hide(),$("#displayCharge").hide(),$("#persenDiskonAir").val(),$("#displayListrik").hide(),$("#displayListrikDiskon").hide(),$("#persenDiskonListrik").val(),$("#displayKeamananIpk").hide(),$("#displayKeamananIpkDiskon").hide(),$("#displayKebersihan").hide(),$("#displayKebersihanDiskon").hide(),$("#displayAirKotor").hide(),$("#displayLain").hide(),$("#ketStatus").hide(),$("#myDiv3 option:selected").text("--- Pilih Tarif ---").val(""),$("#diskonKeamananIpk").val(),$("#myDiv4 option:selected").text("--- Pilih Tarif ---").val(""),$("#diskonKebersihan").val(),$("#myDiv5 option:selected").text("--- Pilih Tarif ---").val(""),$("#myDiv6 option:selected").text("--- Pilih Tarif ---").val(""),$("#myDiv1").prop("required",!1),$("#myDiv2").prop("required",!1),$("#myDiv3").prop("required",!1),$("#myDiv4").prop("required",!1),$("#myDiv5").prop("required",!1),$("#myDiv6").prop("required",!1),$("#ket_tempat").prop("required",!1),$("#meterAir").val("").select2({placeholder:"--- Pilih Alat ---",ajax:{url:"/cari/alatair",dataType:"json",delay:250,processResults:function(e){return{results:$.map(e,function(e){return{text:e.kode+" - "+e.nomor+" ("+e.akhir+")",id:e.id}})}},cache:!0}}),$("#meterListrik").val("").select2({placeholder:"--- Pilih Alat ---",ajax:{url:"/cari/alatlistrik",dataType:"json",delay:250,processResults:function(e){return{results:$.map(e,function(e){return{text:e.kode+" - "+e.nomor+" ("+e.akhir+" - "+e.daya+" W)",id:e.id}})}},cache:!0}}),$("#blok").val("").select2({placeholder:"--- Pilih Blok ---",ajax:{url:"/cari/blok",dataType:"json",delay:250,processResults:function(e){return{results:$.map(e,function(e){return{text:e.nama,id:e.nama}})}},cache:!0}}),$("#pemilik").val("").select2({placeholder:"--- Cari Nasabah ---",ajax:{url:"/cari/nasabah",dataType:"json",delay:250,processResults:function(e){return{results:$.map(e,function(e){return{text:e.nama+" - "+e.ktp,id:e.id}})}},cache:!0}}),$("#pengguna").val("").select2({placeholder:"--- Cari Nasabah ---",ajax:{url:"/cari/nasabah",dataType:"json",delay:250,processResults:function(e){return{results:$.map(e,function(e){return{text:e.nama+" - "+e.ktp,id:e.id}})}},cache:!0}}),$("#myModal").modal("show")});var t,a="";function r(){$("#hanya_airbersih").is(":checked")?(document.getElementById("hanyaBayarAir").style.display="block",document.getElementById("diskonBayarAir").style.display="none"):$("#dis_airbersih").is(":checked")?(document.getElementById("hanyaBayarAir").style.display="none",document.getElementById("diskonBayarAir").style.display="block"):(document.getElementById("hanyaBayarAir").style.display="none",document.getElementById("diskonBayarAir").style.display="none")}function s(){$("#myStatus2").is(":checked")?(document.getElementById("ketStatus").style.display="block",document.getElementById("ket_tempat").required=!0):(document.getElementById("ketStatus").style.display="none",document.getElementById("ket_tempat").required=!1)}function n(){var e=$(this),t=$("#"+e.attr("data-related-item")).parent();e.is(":checked")?t.fadeIn():t.fadeOut()}function l(){$("#myCheck1").is(":checked")?document.getElementById("myDiv1").required=!0:document.getElementById("myDiv1").required=!1}function o(){$("#myCheck2").is(":checked")?document.getElementById("myDiv2").required=!0:document.getElementById("myDiv2").required=!1}function d(){$("#myCheck3").is(":checked")?document.getElementById("myDiv3").required=!0:document.getElementById("myDiv3").required=!1}function c(){$("#myCheck4").is(":checked")?document.getElementById("myDiv4").required=!0:document.getElementById("myDiv4").required=!1}function u(){$("#myCheck5").is(":checked")?document.getElementById("myDiv5").required=!0:document.getElementById("myDiv5").required=!1}function p(){$("#myCheck6").is(":checked")?document.getElementById("myDiv6").required=!0:document.getElementById("myDiv6").required=!1}$(document).on("click",".edit",function(){a=$(this).attr("id"),$("#form_result").html(""),$("#meterAir").val("").html("").select2({placeholder:"--- Pilih Alat ---",ajax:{url:"/cari/alatair",dataType:"json",delay:250,processResults:function(e){return{results:$.map(e,function(e){return{text:e.kode+" - "+e.nomor+" ("+e.akhir+")",id:e.id}})}},cache:!0}}),$("#meterListrik").val("").html("").select2({placeholder:"--- Pilih Alat ---",ajax:{url:"/cari/alatlistrik",dataType:"json",delay:250,processResults:function(e){return{results:$.map(e,function(e){return{text:e.kode+" - "+e.nomor+" ("+e.akhir+" - "+e.daya+" W)",id:e.id}})}},cache:!0}}),$("#blok").val("").html("").select2({placeholder:"--- Pilih Blok ---",ajax:{url:"/cari/blok",dataType:"json",delay:250,processResults:function(e){return{results:$.map(e,function(e){return{text:e.nama,id:e.nama}})}},cache:!0}}),$("#pemilik").val("").html("").select2({placeholder:"--- Cari Nasabah ---",ajax:{url:"/cari/nasabah",dataType:"json",delay:250,processResults:function(e){return{results:$.map(e,function(e){return{text:e.nama+" - "+e.ktp,id:e.id}})}},cache:!0}}),$("#pengguna").val("").html("").select2({placeholder:"--- Cari Nasabah ---",ajax:{url:"/cari/nasabah",dataType:"json",delay:250,processResults:function(e){return{results:$.map(e,function(e){return{text:e.nama+" - "+e.ktp,id:e.id}})}},cache:!0}}),$("#displayAir").hide(),$("#diskonBayarAir").hide(),$("#hanyaBayarAir").hide(),$("#displayCharge").hide(),$("#persenDiskonAir").val(),$("#displayListrik").hide(),$("#displayListrikDiskon").hide(),$("#persenDiskonListrik").val(),$("#displayKeamananIpk").hide(),$("#displayKeamananIpkDiskon").hide(),$("#myDiv3 option:selected").val(),$("#diskonKeamananIpk").val(),$("#displayKebersihan").hide(),$("#displayKebersihanDiskon").hide(),$("#myDiv4 option:selected").val(),$("#diskonKebersihan").val(),$("#displayAirKotor").hide(),$("#myDiv5 option:selected").val(),$("#displayLain").hide(),$("#myDiv6 option:selected").val(),$("#ketStatus").hide(),$("#myDiv1").prop("required",!1),$("#myDiv2").prop("required",!1),$("#myDiv3").prop("required",!1),$("#myDiv4").prop("required",!1),$("#myDiv5").prop("required",!1),$("#myDiv6").prop("required",!1),$("#ket_tempat").prop("required",!1),$("#form_tempat")[0].reset(),$.ajax({url:"/tempatusaha/"+a+"/edit",cache:!1,dataType:"json",success:function(e){if($("#los").val(e.result.no_alamat.replace(/\s/g,"")),null!=e.result.id_pemilik){var t=new Option(e.result.pemilik,e.result.id_pemilik,!1,!1);$(".pemilik").append(t).trigger("change")}if(null!=e.result.id_pengguna){var i=new Option(e.result.pengguna,e.result.id_pengguna,!1,!1);$("#pengguna").append(i).trigger("change")}var r=new Option(e.result.blok,e.result.blok,!1,!1);if($("#blok").append(r).trigger("change"),$("#lokasi").val(e.result.lok_tempat),$("#usaha").val(e.result.bentuk_usaha),2==e.result.stt_tempat&&($("#myStatus2").prop("checked",!0),$("#ketStatus").show(),$("#ket_tempat").val(e.result.ket_tempat)),null!==e.result.trf_airbersih||null!==e.result.meterAirId){if(null!==e.result.trf_airbersih&&($("#myCheck1").prop("checked",!0),$("#displayAir").show()),null!=e.result.meterAirId){var s=new Option(e.result.meterAir,e.result.meterAirId,!1,!1);$("#meterAir").append(s).trigger("change")}if(null!=e.result.dis_airbersih){if("diskon"==e.result.bebasAir)$("#dis_airbersih").prop("checked",!0),$("#diskonBayarAir").show(),$("#persenDiskonAir").val(e.result.diskonAir);else if($("#hanya_airbersih").prop("checked",!0),$("#hanyaBayarAir").show(),-1!==jQuery.inArray("byr",e.result.diskonAir)&&$("#hanyaPemakaianAir").prop("checked",!0),-1!==jQuery.inArray("beban",e.result.diskonAir)&&$("#hanyaBebanAir").prop("checked",!0),-1!==jQuery.inArray("pemeliharaan",e.result.diskonAir)&&$("#hanyaPemeliharaanAir").prop("checked",!0),-1!==jQuery.inArray("arkot",e.result.diskonAir)&&$("#hanyaArkotAir").prop("checked",!0),"object"==typeof e.result.diskonAir[e.result.diskonAir.length-1]){$("#hanyaChargeAir").prop("checked",!0),$("#displayCharge").show();var n=e.result.diskonAir[e.result.diskonAir.length-1].charge;n=n.split(","),$("#persenChargeAir").val(n[0]),"ttl"===n[1]&&$("#dariChargeAir").val("ttl"),"byr"===n[1]&&$("#dariChargeAir").val("byr")}}else $("#semua_airbersih").prop("checked",!0)}if(null!==e.result.trf_listrik||null!==e.result.meterListrikId){if(null!==e.result.trf_listrik&&($("#myCheck2").prop("checked",!0),$("#displayListrik").show()),null!=e.result.meterListrikId){s=new Option(e.result.meterListrik,e.result.meterListrikId,!1,!1);$("#meterListrik").append(s).trigger("change")}null!=e.result.dis_listrik&&($("#dis_listrik").prop("checked",!0),$("#persenDiskonListrik").val(e.result.dis_listrik),$("#displayListrikDiskon").show())}null!=e.result.trf_keamananipk&&($("#myCheck3").prop("checked",!0),$("#displayKeamananIpk").show(),$("#myDiv3 option:selected").text(e.result.tarifKeamananIpk).val(e.result.tarifKeamananIpkId),null!=e.result.dis_keamananipk&&($("#dis_keamananipk").prop("checked",!0),$("#diskonKeamananIpk").val(e.result.dis_keamananipk.toLocaleString("en-US")),$("#displayKeamananIpkDiskon").show(),0==e.result.dis_keamananipk&&($("#dis_keamananipk").prop("checked",!1),$("#displayKeamananIpkDiskon").hide()))),null!=e.result.trf_kebersihan&&($("#myCheck4").prop("checked",!0),$("#displayKebersihan").show(),$("#myDiv4 option:selected").text(e.result.tarifKebersihan).val(e.result.tarifKebersihanId),null!=e.result.dis_kebersihan&&($("#dis_kebersihan").prop("checked",!0),$("#diskonKebersihan").val(e.result.dis_kebersihan.toLocaleString("en-US")),$("#displayKebersihanDiskon").show(),0==e.result.dis_kebersihan&&($("#dis_kebersihan").prop("checked",!1),$("#displayKebersihanDiskon").hide()))),null!=e.result.trf_airkotor&&($("#myCheck5").prop("checked",!0),$("#displayAirKotor").show(),$("#myDiv5 option:selected").text(e.result.tarifAirKotor).val(e.result.tarifAirKotorId)),null!=e.result.trf_lain&&($("#myCheck6").prop("checked",!0),$("#displayLain").show(),$("#myDiv6 option:selected").text(e.result.tarifLain).val(e.result.tarifLainId)),$("#hidden_id").val(a),$(".titles").text("Edit Tempat Usaha"),$("#action_btn").val("Update"),$("#action").val("Edit"),$("#myModal").modal("show")}})}),$("#form_tempat").on("submit",function(e){e.preventDefault();var t="";"Add"==$("#action").val()&&(t="/tempatusaha"),"Edit"==$("#action").val()&&(t="/tempatusaha/update"),$.ajax({url:t,cache:!1,method:"POST",data:$(this).serialize(),dataType:"json",success:function(e){$("#form_result").show();var t="";e.errors&&(t='<div class="alert alert-danger" id="error-alert"> <strong>Maaf ! </strong>'+e.errors+"</div>"),e.success&&(t='<div class="alert alert-success" id="success-alert"> <strong>Sukses ! </strong>'+e.success+"</div>",setTimeout(function(){},4e3)),$("#tabelTempat").DataTable().ajax.reload(function(){},!1),$("#form_result").html(t),$("#success-alert,#error-alert,#info-alert,#warning-alert").fadeTo(1e3,500).slideUp(1e3,function(){$("#success-alert,#error-alert").slideUp(500)}),$("#myModal").modal("hide")}})}),$(document).on("click",".delete",function(){t=$(this).attr("id"),username=$(this).attr("nama"),$(".titles").text("Hapus data "+username+" ?"),$("#confirmModal").modal("show")}),$("#ok_button").click(function(){$.ajax({url:"/tempatusaha/destroy/"+t,cache:!1,beforeSend:function(){$("#ok_button").text("Menghapus...")},success:function(e){$("#tabelTempat").DataTable().ajax.reload(function(){},!1),e.success&&(html='<div class="alert alert-success" id="success-alert"> <strong>Sukses! </strong>'+e.success+"</div>"),e.errors&&(html='<div class="alert alert-danger" id="error-alert"> <strong>Oops! </strong>'+e.errors+"</div>"),$("#form_result").html(html),$("#success-alert,#error-alert,#info-alert,#warning-alert").fadeTo(1e3,500).slideUp(1e3,function(){$("#success-alert,#error-alert").slideUp(500)}),$("#confirmModal").modal("hide")},complete:function(){$("#ok_button").text("Hapus")}})}),$(document).on("click",".details",function(){$(".divListrik").hide(),$(".divAirBersih").hide(),$(".divKeamananIpk").hide(),$(".divKebersihan").hide(),$(".divAirKotor").hide(),$(".divLain").hide(),a=$(this).attr("id"),kontrol=$(this).attr("nama"),$(".titles").html("<h1 style='color:white;font-weight:700;'>"+kontrol+"</h1>"),$.ajax({url:"/tempatusaha/show/"+a,cache:!1,dataType:"json",success:function(e){null!==e.result.pengguna?$(".pengguna").text(e.result.pengguna):$(".pengguna").html("&mdash;"),null!==e.result.pemilik?$(".pemilik").text(e.result.pemilik):$(".pemilik").html("&mdash;"),$(".los").text(e.result.no_alamat),$(".jumlah").text(e.result.jml_alamat),null!==e.result.lok_tempat?$(".lokasi").text(e.result.lok_tempat):$(".lokasi").html("&mdash;"),null!==e.result.bentuk_usaha?$(".usaha").text(e.result.bentuk_usaha):$(".usaha").html("&mdash;"),1==e.result.stt_tempat?($(".status").html("<span style='color:green;'>Aktif</span"),$(".keterangan").html("&mdash;")):2==e.result.stt_tempat&&($(".status").html("<span style='color:red;'>Pasif</span"),$(".keterangan").text(e.result.ket_tempat)),null!=e.result.faslistrik&&($(".divListrik").show(),null!=e.result.diskonlistrik?$(".diskon-listrik").html("<span style='color:red;'>&check;</span>"):$(".diskon-listrik").html("&times;"),$(".alat-listrik").text(e.result.alatlistrik),$(".daya-listrik").text(e.result.dayalistrik.toLocaleString("en-US")),$(".stand-listrik").text(e.result.standlistrik.toLocaleString("en-US"))),null!=e.result.fasairbersih&&($(".divAirBersih").show(),null!=e.result.diskonairbersih?$(".diskon-airbersih").html("<span style='color:red;'>&check;</span>"):$(".diskon-airbersih").html("&times;"),$(".alat-airbersih").text(e.result.alatairbersih),$(".stand-airbersih").text(e.result.standairbersih.toLocaleString("en-US"))),null!=e.result.faskeamananipk&&($(".divKeamananIpk").show(),null!=e.result.diskonkeamananipk?$(".diskon-keamananipk").html("<span style='color:red;'>"+e.result.diskonkeamananipk.toLocaleString("en-US")+"</span>"):$(".diskon-keamananipk").html("&times;"),$(".per-unit-keamananipk").html("<span style='color:blue;text-transform:lowercase;'>("+e.result.perunitkeamananipk.toLocaleString("en-US")+" / unit)</span>"),$(".subtotal-keamananipk").html("<span style='color:blue;'>"+e.result.subtotalkeamananipk.toLocaleString("en-US")+"</span>"),$(".total-keamananipk").html("<span style='color:green;'>"+e.result.totalkeamananipk.toLocaleString("en-US")+"</span>")),null!=e.result.faskebersihan&&($(".divKebersihan").show(),null!=e.result.diskonkebersihan?$(".diskon-kebersihan").html("<span style='color:red;'>"+e.result.diskonkebersihan.toLocaleString("en-US")+"</span>"):$(".diskon-kebersihan").html("&times;"),$(".per-unit-kebersihan").html("<span style='color:blue;text-transform:lowercase;'>("+e.result.perunitkebersihan.toLocaleString("en-US")+" / unit)</span>"),$(".subtotal-kebersihan").html("<span style='color:blue;'>"+e.result.subtotalkebersihan.toLocaleString("en-US")+"</span>"),$(".total-kebersihan").html("<span style='color:green;'>"+e.result.totalkebersihan.toLocaleString("en-US")+"</span>")),null!=e.result.fasairkotor&&($(".divAirKotor").show(),$(".total-airkotor").html("<span style='color:green;'>"+e.result.totalairkotor.toLocaleString("en-US")+"</span>")),null!=e.result.faslain&&($(".divLain").show(),$(".total-lain").html("<span style='color:green;'>"+e.result.totallain.toLocaleString("en-US")+"</span>")),null!=e.result.hp_pengguna?$("#whatsapp-number").attr("href","https://api.whatsapp.com/send?phone="+e.result.hp_pengguna+"&text=Halo%20"+e.result.pengguna+"%20Selaku%20Pengguna%20Tempat%20"+kontrol+"%0A*Selamat%20Berniaga%20Mitra%20BP3C*").attr("target","_blank").css("pointer-events","").removeClass("btn-dark").addClass("btn-success"):$("#whatsapp-number").attr("href","#").removeAttr("target").css("pointer-events","none").removeClass("btn-success").addClass("btn-dark"),null!=e.result.email_pengguna?$("#email-number").attr("href","mailto:"+e.result.email_pengguna).attr("target","_blank").css("pointer-events","").removeClass("btn-dark").addClass("btn-danger"):$("#email-number").attr("href","#").removeAttr("target").css("pointer-events","none").removeClass("btn-danger").addClass("btn-dark"),$("#show-details").modal("show")}})}),$(document).on("click",".details-rekap",function(){$("#rincianrow").html(""),blok=$(this).attr("nama"),$(".titles").html("<h1 style='color:white;font-weight:700;'>"+blok+"</h1>"),$.ajax({url:"/tempatusaha/rekap/"+blok,cache:!1,dataType:"json",success:function(e){for(e.result.penggunalistrik>0?$(".pengguna-listrik").text(e.result.penggunalistrik.toLocaleString("en-US")):$(".pengguna-listrik").text(0),e.result.penggunaairbersih>0?$(".pengguna-airbersih").text(e.result.penggunaairbersih.toLocaleString("en-US")):$(".pengguna-airbersih").text(0),e.result.penggunakeamananipk>0?$(".pengguna-keamananipk").text(e.result.penggunakeamananipk.toLocaleString("en-US")):$(".pengguna-keamananipk").text(0),e.result.penggunakebersihan>0?$(".pengguna-kebersihan").text(e.result.penggunakebersihan.toLocaleString("en-US")):$(".pengguna-kebersihan").text(0),e.result.potensilistrik>0?$(".potensi-listrik").text(e.result.potensilistrik.toLocaleString("en-US")):$(".potensi-listrik").text(0),e.result.potensiairbersih>0?$(".potensi-airbersih").text(e.result.potensiairbersih.toLocaleString("en-US")):$(".potensi-airbersih").text(0),e.result.potensikeamananipk>0?$(".potensi-keamananipk").text(e.result.potensikeamananipk.toLocaleString("en-US")):$(".potensi-keamananipk").text(0),e.result.potensikebersihan>0?$(".potensi-kebersihan").text(e.result.potensikebersihan.toLocaleString("en-US")):$(".potensi-kebersihan").text(0),i=0;i<e.result.rincian.length;i++){var t="";null!=e.result.rincian[i].trf_listrik?t+='<i class="fas fa-bolt" style="color:#fd7e14;" title="Listrik"></i>&nbsp;':t+='<i class="fas fa-bolt" style="color:dark;" title="Non Listrik"></i>&nbsp;',null!=e.result.rincian[i].trf_airbersih?t+='<i class="fas fa-tint" style="color:#36b9cc" title="Air Bersih"></i>&nbsp;':t+='<i class="fas fa-tint" style="color:dark" title="Non Air Bersih"></i>&nbsp;',null!=e.result.rincian[i].trf_keamananipk?t+='<i class="fas fa-lock" style="color:#e74a3b" title="Keamanan IPK"></i>&nbsp;':t+='<i class="fas fa-lock" style="color:dark" title="Non Keamanan IPK"></i>&nbsp;',null!=e.result.rincian[i].trf_kebersihan?t+='<i class="fas fa-leaf" style="color:#1cc88a;" title="Kebersihan"></i>&nbsp;':t+='<i class="fas fa-leaf" style="color:dark" title="Non Kebersihan"></i>&nbsp;',html="",html+='<div class="card-profile-stats d-flex justify-content-between" style="margin-bottom:-1rem">',html+="<div>",html+='<span class="heading" style="font-size:.875rem;">'+e.result.rincian[i].kd_kontrol+"</span>",html+="</div>",html+="<div>",1==e.result.rincian[i].stt_tempat&&(html+='<span class="heading" style="font-size:.875rem;color:green">Aktif</span>'),2==e.result.rincian[i].stt_tempat&&(html+='<span class="heading" style="font-size:.875rem;color:red">Pasif</span>'),html+="</div>",html+="<div>",html+='<span class="heading" style="font-size:.875rem;">'+t+"</span>",html+="</div>",html+="</div>",$("#rincianrow").append(html)}$("#show-details").modal("show")}})}),$("#los").on("keypress",function(e){var t=new RegExp("^[a-zA-Z0-9,]+$"),a=String.fromCharCode(e.charCode?e.charCode:e.which);if(!t.test(a))return e.preventDefault(),!1}),$("#los").on("input",function(){/^,/.test(this.value)?this.value=this.value.replace(/^,/,""):/^0/.test(this.value)&&(this.value=this.value.replace(/^0/,""))}),document.getElementById("diskonKeamananIpk").addEventListener("input",e=>e.target.value=(parseInt(e.target.value.replace(/[^\d]+/gi,""))||0).toLocaleString("en-US")),document.getElementById("diskonKebersihan").addEventListener("input",e=>e.target.value=(parseInt(e.target.value.replace(/[^\d]+/gi,""))||0).toLocaleString("en-US")),$('input[type="radio"]').click(r).each(r),$('input[type="radio"]').click(s).each(s),$('input[type="checkbox"]').click(n).each(n),$('input[type="checkbox"]').click(l).each(l),$('input[type="checkbox"]').click(o).each(o),$('input[type="checkbox"]').click(d).each(d),$('input[type="checkbox"]').click(c).each(c),$('input[type="checkbox"]').click(u).each(u),$('input[type="checkbox"]').click(p).each(p),$(document).on("click",".qr",function(){var e=$(this).attr("id");window.open("/tempatusaha/qr/"+e,"_blank")})});